<!-- Unityapp/templates/sibling_chat_room_login.html -->

{% extends 'chat_room.html' %}

{% block title %}きょうだいチャットルーム{% endblock %}

{% block heading %}きょうだいチャットルーム{% endblock %}

{% block content %}
    <!-- ここにきょうだいチャットルーム画面のコンテンツを追加 -->
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; overflow-y: auto; height: 100vh; padding: 20px;">

        <h2>きょうだいチャットルーム</h2>
        <p>きょうだいチャットルームは、兄弟姉妹間でのコミュニケーションや相談の場所です。</p>
        <p>※個人名や住所、電話番号など、個人情報を特定できるような投稿はお控えいただきますよう、よろしくお願いいたします。</p>
        <p>※悪口などの誹謗中傷もお控えください。</p>
        <p>メッセージ記載欄は下にあります↓↓</p>

        <div style="flex: 1; overflow-y: auto; max-height: 400px;">
            {% for message in chat_messages %}
                <div style="word-break: break-all; white-space: pre-wrap; max-width: 400px; margin: 10px auto;">
                    <p><strong>{{ message.user.username }}:</strong> {{ message.content }}</p>
                    
                    <!-- 編集リンクと削除リンクを横並びにする -->
                    <div style="display: flex; align-items: center;">
                        <a href="{% url 'edit_sibling_chat_message' message.id %}" style="margin-right: 10px;">編集</a>
                        <a href="{% url 'delete_sibling_chat_message' message.id %}">削除</a>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- チャット入力フォーム -->
        <form method="post" action="{% url 'sibling_chat_room_login' %}" style="margin: 10px auto; max-width: 400px;">
            {% csrf_token %}
            <input type="text" name="content" placeholder="メッセージを入力" style="width: 100%;">
            <button type="submit" style="width: 100%;">送信</button>
        </form>

        <!-- チャットルーム画面に戻るリンク -->
        <div style="margin: 10px auto;">
            <a href="{% url 'chat_room' %}">チャットルームに戻る</a>
        </div>
    </div>
{% endblock %}
